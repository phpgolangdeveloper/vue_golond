{"remainingRequest":"/Users/twj/Documents/node/project/vue-cli-test/node_modules/babel-loader/lib/index.js!/Users/twj/Documents/node/project/vue-cli-test/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/twj/Documents/node/project/vue-cli-test/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/twj/Documents/node/project/vue-cli-test/src/components/UploadFile.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/twj/Documents/node/project/vue-cli-test/src/components/UploadFile.vue","mtime":1624971600959},{"path":"/Users/twj/Documents/node/project/vue-cli-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/twj/Documents/node/project/vue-cli-test/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/twj/Documents/node/project/vue-cli-test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/twj/Documents/node/project/vue-cli-test/node_modules/vue-loader-v16/dist/index.js","mtime":1616796459000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy90d2ovRG9jdW1lbnRzL25vZGUvcHJvamVjdC92dWUtY2xpLXRlc3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCB7IHVwbG9hZCB9IGZyb20gJ0AvYXBpL2Z1bmN0aW9uJzsgLy8g6L2s5o2i5Zu+54mH5qC85byP55qE5pa55rOVCgpmdW5jdGlvbiBnZXRCYXNlNjQoZmlsZSkgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwoKICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiByZXNvbHZlKHJlYWRlci5yZXN1bHQpOwogICAgfTsKCiAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikgewogICAgICByZXR1cm4gcmVqZWN0KGVycm9yKTsKICAgIH07CiAgfSk7Cn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRnVuY3Rpb24nLAogIGNvbXBvbmVudHM6IHsKICAgIFNUYWJsZTogU1RhYmxlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g5o6n5Yi25Zu+54mH6aKE6KeI5by55Ye65bGC55qE5pi+56S65LiO6ZqQ6JePCiAgICAgIHByZXZpZXdWaXNpYmxlOiBmYWxzZSwKICAgICAgLy8g6aKE6KeI5Zu+54mH5by55Ye65bGC55qE5Zu+54mH6Lev5b6ECiAgICAgIHByZXZpZXdJbWFnZTogJycsCiAgICAgIC8vIOaWh+S7tuWIl+ihqAogICAgICBmaWxlTGlzdDogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDlpITnkIblh73mlbDvvIzlvZPnvJbovpHmjInpkq7ooqvngrnlh7vml7bop6blj5EKICAgIG9uRWRpdENsaWNrOiBmdW5jdGlvbiBvbkVkaXRDbGljayhyZWNvcmQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgICAgLy8g5YeG5aSH6K+35rGC5Y+C5pWwCiAgICAgICAgICAgICAgICAgIC8vIOWPkemAgeivt+axggogICAgICAgICAgICAgICAgICAvLyDlpoLmnpzor7fmsYLkuI3miJDlip8s5YiZ57uI5q2i5Ye95pWw5omn6KGMCiAgICAgICAgICAgICAgICAgIC8vIOa4heepuuWbvueJh+WIl+ihqAogICAgICAgICAgICAgICAgICBfdGhpcy5maWxlTGlzdCA9IFtdOwoKICAgICAgICAgICAgICAgICAgX3RoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAvL+WbnuWhq+aVsOaNruS/oeaBrwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgLy8g5Zu+54mH5LiK5Lyg57uE5Lu25aGr5YWF5Zu+54mHCiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5maWxlTGlzdDEucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICAgIHVpZDogLTEsCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2RvbmUnLAogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHJlY29yZC5yZWNvcmRVcmwKICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fQoKICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5aSE55CG5Ye95pWw77yM5b2T5YWz6Zet6aKE6KeI5Zu+54mH5by55bGC5pe26Kem5Y+RCiAgICBoYW5kbGVDYW5jZWw6IGZ1bmN0aW9uIGhhbmRsZUNhbmNlbCgpIHsKICAgICAgdGhpcy5wcmV2aWV3VmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIC8vIOWkhOeQhuWHveaVsO+8jOW9k+mihOiniOWbvueJh+aXtuinpuWPkQogICAgaGFuZGxlUHJldmlldzogZnVuY3Rpb24gaGFuZGxlUHJldmlldyhmaWxlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKCFmaWxlLnVybCAmJiAhZmlsZS5wcmV2aWV3KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBnZXRCYXNlNjQoZmlsZS5vcmlnaW5GaWxlT2JqKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgZmlsZS5wcmV2aWV3ID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF90aGlzMi5wcmV2aWV3SW1hZ2UgPSBmaWxlLnVybCB8fCBmaWxlLnByZXZpZXc7CiAgICAgICAgICAgICAgICBfdGhpczIucHJldmlld1Zpc2libGUgPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDkuIrkvKDlm77niYfnmoTmlrnms5UKICAgIHVwbG9hZFBpY3R1cmU6IGZ1bmN0aW9uIHVwbG9hZFBpY3R1cmUoZmlsZSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdXBsb2FkKHsKICAgICAgICAgICAgICAgICAgZmlsZTogZmlsZQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDc7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMywgbnVsbCwgW1swLCA3XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDkuIrkvKDlm77niYfnmoTmlrnms5UKICAgIHVwbG9hZEltZzogZnVuY3Rpb24gdXBsb2FkSW1nKGZpbGUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgbmV3RGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICB2YXIgdWlkID0gZmlsZS5maWxlLnVpZDsKICAgICAgbmV3RGF0YS5hcHBlbmQoJ0ZpbGUnLCBmaWxlLmZpbGUpOwogICAgICB1cGxvYWQobmV3RGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMzLmZpbGVMaXN0ID0gW107CgogICAgICAgIF90aGlzMy5maWxlTGlzdC5wdXNoKHsKICAgICAgICAgIHVpZDogdWlkLAogICAgICAgICAgc3RhdHVzOiAnZG9uZScsCiAgICAgICAgICB1cmw6IHJlcy51cmwKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKCflpLHotKUnLCBlcnIpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDliKDpmaTlm77niYfnmoTmlrnms5UKICAgIGhhbmRsZVJlbW92ZTogZnVuY3Rpb24gaGFuZGxlUmVtb3ZlKGZpbGUpIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5maWxlTGlzdC5pbmRleE9mKGZpbGUpOwogICAgICB2YXIgbmV3RmlsZUxpc3QgPSB0aGlzLmZpbGVMaXN0LnNsaWNlKCk7CiAgICAgIG5ld0ZpbGVMaXN0LnNwbGljZShpbmRleCwgMSk7CiAgICAgIHRoaXMuZmlsZUxpc3QgPSBuZXdGaWxlTGlzdDsKICAgIH0sCiAgICAvLyDlpITnkIblh73mlbDvvIzlvZPmj5DkuqTmt7vliqDooajljZXml7bop6blj5EKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRyeSB7CiAgICAgICAgLy8g5a+55b2T5YmN6KGo5Y2V5pWw5o2u6L+b6KGM5omL5Yqo5qCh6aqMCiAgICAgICAgdGhpcy5mb3JtLnZhbGlkYXRlRmllbGRzKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KGVyciwgdmFsdWVzKSB7CiAgICAgICAgICAgIHZhciByZXF1ZXN0UGF5bG9hZCwgcmVzOwogICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAvLyDlh4blpIfor7fmsYLlj4LmlbAKICAgICAgICAgICAgICAgICAgICByZXF1ZXN0UGF5bG9hZCA9IHsKICAgICAgICAgICAgICAgICAgICAgIHB1cmNoYXNlVm91Y2hlclVybDogX3RoaXM0LmZpbGVMaXN0WzBdLnVybAogICAgICAgICAgICAgICAgICAgIH07IC8vIOWPkemAgeivt+axggoKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkZChyZXF1ZXN0UGF5bG9hZCk7CgogICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgICAgICAgIGlmICghKHJlcy5jb2RlICE9PSAyMDApKSB7CiAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCBfdGhpczQuJG1lc3NhZ2UuZXJyb3IoJ+a3u+WKoOiuvuWkh+Wksei0pe+8gScpKTsKCiAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAvLyDmj5DnpLrnlKjmiLcKICAgICAgICAgICAgICAgICAgICBfdGhpczQuJG1lc3NhZ2Uuc3VjY2Vzcygn5re75Yqg6K6+5aSH5oiQ5Yqf77yBJyk7IC8vIOabtOaWsOihqOagvOaVsOaNrgoKCiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LmdldExpc3REYXRhKDEsIDEwKTsgLy8g5YWz6Zet5by55Ye65bGCCgoKICAgICAgICAgICAgICAgICAgICBfdGhpczQudmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgICAgIH0pKTsKCiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIpIHsKICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgIH07CiAgICAgICAgfSgpKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZygn6ZSZ6K+vJyk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/twj/Documents/node/project/vue-cli-test/src/components/UploadFile.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"clearfix\">\n    <a-upload\n        :customRequest=\"uploadImg\"\n        :remove=\"handleRemove\"\n        list-type=\"picture-card\"\n        :file-list=\"fileList\"\n        @preview=\"handlePreview\"\n        class=\"avatar-uploader\"\n    >\n      <div v-if=\"fileList.length < 1\">\n        <a-icon type=\"plus\"/>\n      </div>\n    </a-upload>\n    <a-modal :visible=\"previewVisible\" :footer=\"null\" @cancel=\"handleCancel\">\n      <img alt=\"example\" style=\"width: 100%\" :src=\"previewImage\">\n    </a-modal>\n  </div>\n\n</template>\n\n<script>\nimport {upload} from '@/api/function'\n\n\n// 转换图片格式的方法\nfunction getBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader()\n    reader.readAsDataURL(file)\n    reader.onload = () => resolve(reader.result)\n    reader.onerror = error => reject(error)\n  })\n}\n\nexport default {\n  name: 'Function',\n  components: {\n    STable\n  },\n  data() {\n    return {\n      // 控制图片预览弹出层的显示与隐藏\n      previewVisible: false,\n      // 预览图片弹出层的图片路径\n      previewImage: '',\n      // 文件列表\n      fileList: [],\n    }\n  },\n  methods: {\n    // 处理函数，当编辑按钮被点击时触发\n    async onEditClick(record) {\n      try {\n        // 准备请求参数\n        // 发送请求\n        // 如果请求不成功,则终止函数执行\n        // 清空图片列表\n        this.fileList = []\n        this.$nextTick(() => {\n          //回填数据信息\n          setTimeout(() => {\n            // 图片上传组件填充图片\n            this.fileList1.push({\n              uid:-1,\n              status: 'done',\n              url: record.recordUrl\n            })\n          })\n        })\n      } catch (error) {}\n    },\n    // 处理函数，当关闭预览图片弹层时触发\n    handleCancel() {\n      this.previewVisible = false\n    },\n    // 处理函数，当预览图片时触发\n    async handlePreview(file) {\n      if (!file.url && !file.preview) {\n        file.preview = await getBase64(file.originFileObj)\n      }\n      this.previewImage = file.url || file.preview\n      this.previewVisible = true\n    },\n    // 上传图片的方法\n    async uploadPicture(file) {\n      try {\n        // 发送请求\n        const res = await upload({ file })\n        return\n      } catch (error) {}\n    },\n    // 上传图片的方法\n    uploadImg(file) {\n      const newData = new FormData()\n      const uid = file.file.uid\n      newData.append('File', file.file)\n      upload(newData).then(res => {\n        this.fileList = []\n        this.fileList.push({\n          uid: uid,\n          status: 'done',\n          url: res.url\n        })\n      })\n          .catch(err => {\n            console.log('失败', err)\n          })\n    },\n    // 删除图片的方法\n    handleRemove(file) {\n      const index = this.fileList.indexOf(file)\n      const newFileList = this.fileList.slice()\n      newFileList.splice(index, 1)\n      this.fileList = newFileList\n    },\n    // 处理函数，当提交添加表单时触发\n    handleSubmit() {\n      try {\n        // 对当前表单数据进行手动校验\n        this.form.validateFields(async (err, values) => {\n          // 如果表单数据校验不成功，终止函数执行\n          if (err) return\n          // 准备请求参数\n          const requestPayload = {purchaseVoucherUrl: this.fileList[0].url}\n          // 发送请求\n          const res = await add(requestPayload)\n          if(res.code !== 200) return this.$message.error('添加设备失败！')\n          // 提示用户\n          this.$message.success('添加设备成功！')\n          // 更新表格数据\n          this.getListData(1, 10)\n          // 关闭弹出层\n          this.visible = false\n        })\n      } catch (error) {\n        console.log('错误')\n      }\n    },\n  }\n}\n</script>\n\n<style scoped>\n.avatar-uploader > .ant-upload {\n  width: 128px;\n  height: 128px;\n}\n\n.ant-upload-select-picture-card i {\n  font-size: 32px;\n  color: #999;\n}\n\n.ant-upload-select-picture-card .ant-upload-text {\n  margin-top: 8px;\n  color: #666;\n}\n\n</style>\n"],"sourceRoot":""}]}